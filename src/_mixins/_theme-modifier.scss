/// @since 3.0.0
@mixin theme-modifier__segment($color) {
  background-color: $color !important;
  color: setContrast($color, $text);

  a:not(.btn) {
    color: setContrast($color, $link);
  }

  @for $n from 1 through length($postfix-array) {
    $postfix: nth($postfix-array, $n);
    $shade: nth($shade-array, $n);

    &_#{$postfix} {
      background-color: varColor($color, $shade) !important;
      color: setContrast(varColor($color, $shade), $text);

      a:not(.btn) {
        color: setContrast($color, $link);
      }
    }
  }
}

@mixin theme-modifier($child: false) {

  $name-array: default, minor, link, super, highlight, invert;
  $color-array: $background, $minor, $link, $super, $highlight, $text;
  $postfix-array: darkest, darker, dark, light, lighter, lightest;
  $shade-array: -30, -20, -10, 10, 20, 30;

  @for $i from 1 through length($color-array) {
    $color: nth($color-array, $i);
    $name: nth($name-array, $i);

    &.#{$name} {
      @if $child {
        #{$child} {
          @include theme-modifier__segment($color);
        }
      } @else {
        @include theme-modifier__segment($color);
      }
    }
  }
}