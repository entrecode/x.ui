/// @author Bernhard Ruoff
/// @since 9.0.0
/// @access public
/// @group molecules
///
/// @param {boolean} $dropdown-in-hover [false]
///
/// @param {px} $dropdown-radius [4]
/// @param {number} $dropdown-padding [4]
/// @param {color} $dropdown-background
/// @param {value} $dropdown-shadow

// scss-lint:disable PropertySpelling, NestingDepth

.dropdown {
  cursor: pointer;
  outline: none;
  position: relative;

  &.dropdown_center {
    .dropdown-options {
      left: 50%;
      transform: translateX(-50%);
    }
  }

  &.dropdown_right {
    .dropdown-options {
      right: 0;
    }
  }

  &.dropdown_left {
    .dropdown-options {
      left: 0;
    }
  }

  &.dropdown_full {
    .dropdown-options {
      left: 0;
      width: 100%;
    }
  }

  &.dropdown_above {
    .dropdown-options {
      bottom: 100%;
      top: initial;
    }
  }

  @if $dropdown-on-hover == false {
    &:focus {
      > .dropdown-options {
        opacity: 1;
        visibility: visible;
      }
    }
  } @else {
    &:hover {
      .dropdown-options {
        opacity: 1;
        visibility: visible;
      }
    }
  }

  &.on-hover {
    &:hover {
      .dropdown-options {
        opacity: 1;
        visibility: visible;
      }
    }
  }
}

.dropdown-options {
  @extend %is-dropdown;
  opacity: 0;
  -webkit-overflow-scrolling: touch;
  overflow-y: auto;
  overscroll-behavior-y: contain;
  position: absolute;
  top: 100%;
  transition: visibility 0.5s, opacity 0.2s;
  visibility: hidden;
  z-index: 10;

  .dropdown_divider {
    background-color: getColor(divider);
    height: 1px;
    margin: rem(4) 0;
    padding: 0;
  }
}

// @param {number} $dropdown-option-padding-ratio [1.5] - ratio by which padding-left and padding-right are bigger
// @param {array} $dropdown-option-spacing [0]
// @param {number} $dropdown-option-font-size [$base-font-size]
// @param {number} $dropdown-option-line-height [$dropdown-option-font-size * $base-line-height]
// @param {number} $dropdown-option-min-height [$btn-min-height]
// @param {value} $dropdown-option-alignment [center]
// @param {value} $dropdown-option-weight [$is-bold]
// @param {color} $dropdown-option-color [$text]

.dropdown-option {
  display: block;

  > a:not([class]) {
    @include macro-metrics(
      $dropdown-option-font-size,
      $dropdown-option-line-height,
      $dropdown-option-min-height,
      $padding-ratio: $dropdown-option-padding-ratio
    );
    border: 0;
    color: $dropdown-option-color;
    cursor: pointer;
    display: block;
    font-weight: $dropdown-option-weight;
    height: auto;
    margin: arrayMagic($dropdown-option-spacing);
    outline: none;
    position: relative;
    text-align: $dropdown-option-alignment;
    text-decoration: none;
    touch-action: manipulation;
    user-select: none;
    width: 100%;

    &:hover {
      background-color: getColor(state, hover);
    }
  }

  > .btn {
    display: block;
    width: 100%;
  }
}
