/// @author Bernhard Ruoff
/// @since 9.0.6
/// @access public
/// @group molecules
///
/// @param {boolean} $dropdown-in-hover [false]

// scss-lint:disable PropertySpelling, NestingDepth

.dropdown {
  cursor: pointer;
  outline: none;
  position: relative;

  &.dropdown_center {
    .dropdown-options {
      left: 50%;
      transform: translateX(-50%);
    }
  }

  &.dropdown_right {
    .dropdown-options {
      right: 0;
    }
  }

  &.dropdown_left {
    .dropdown-options {
      left: 0;
    }
  }

  &.dropdown_full {
    .dropdown-options {
      left: 0;
      width: 100%;
    }
  }

  &.dropdown_above {
    .dropdown-options {
      bottom: 100%;
      top: initial;
    }
  }

  @if $dropdown-on-hover == false {
    &:focus {
      > .dropdown-options {
        opacity: 1;
        visibility: visible;
      }
    }
  } @else {
    &:hover {
      .dropdown-options {
        opacity: 1;
        visibility: visible;
      }
    }
  }

  &.on-hover {
    &:hover {
      .dropdown-options {
        opacity: 1;
        visibility: visible;
      }
    }
  }
}

// @param {px} $dropdown-options-radius [4]
// @param {array} $dropdown-options-padding [4]
// @param {px | null} $dropdown-options-max-height [null]
// @param {color} $dropdown-options-background
// @param {value} $dropdown-options-shadow
// @param {array} $dropdown-options-style
.dropdown-options {
  list-style: none;
  margin: 0;
  opacity: 0;
  position: absolute;
  top: 100%;
  transition: visibility 0.5s, opacity 0.2s;
  visibility: hidden;
  z-index: 10;
  @include is-scrollable(y, contain, $behavior: auto);
  @include inject-style($dropdown-options-style);
  background: $dropdown-options-background;
  border-radius: arrayMagic($dropdown-options-radius);
  box-shadow: arrayMagic($dropdown-options-shadow);
  color: setContrast($dropdown-options-background);
  max-height: rem($dropdown-options-max-height);
  padding: arrayMagic($dropdown-options-padding);

  // @param {px} $dropdown-option-divider-size [1]
  // @param {px} $dropdown-option-divider-spacing [4 0]
  // @param {color} $dropdown-option-divider-color [$divider-color]
  .dropdown_divider {
    background-color: $dropdown-option-divider-color;
    height: rem($dropdown-option-divider-size);
    margin: arrayMagic($dropdown-option-divider-spacing);
    padding: 0;
  }
}

// @param {number} $dropdown-option-padding-ratio [1.5]
// @param {array} $dropdown-option-spacing [0]
// @param {px} $dropdown-option-font-size [$base-font-size]
// @param {px} $dropdown-option-line-height [$dropdown-option-font-size * $base-line-height]
// @param {px} $dropdown-option-min-height [$btn-min-height]
// @param {value} $dropdown-option-alignment [center]
// @param {value} $dropdown-option-weight [$is-bold]
// @param {color} $dropdown-option-color [$text]
// @param {color} $dropdown-option-background [none]
// @param {array} $dropdown-option-style
.dropdown-option {
  display: block;

  @supports (display: inline-flex) {
    display: inline-flex;
  }

  > a:not([class]) {
    cursor: pointer;
    border: 0;
    display: block;
    height: auto;
    outline: none;
    position: relative;
    text-decoration: none;
    touch-action: manipulation;
    user-select: none;
    width: 100%;
    @include inject-style($dropdown-option-style);
    @include macro-metrics(
      $dropdown-option-font-size,
      $dropdown-option-line-height,
      $dropdown-option-min-height,
      $padding-ratio: $dropdown-option-padding-ratio
    );
    color: $dropdown-option-color;
    background: $dropdown-option-background;
    font-weight: $dropdown-option-weight;
    margin: arrayMagic($dropdown-option-spacing);
    text-align: $dropdown-option-alignment;

    // @param {color} $dropdown-option-hover-color [$link]
    // @param {color} $dropdown-option-hover-background [$state-hover]
    &:hover {
      color: $dropdown-option-hover-color;
      background: $dropdown-option-hover-background;
    }
  }

  > .btn {
    display: block;
    width: 100%;
  }
}
