/// @author Bernhard Ruoff
/// @since 9.0.2
/// @access public
/// @group macro mixins
///
/// mixin for precise macro element sizing
/// @param {number} $font-size - font-size of element
/// @param {number} $line-height - line-height of element
/// @param {number} $min-height - min-height of element
/// @param {number} $border [null] - size of element border
/// @param {number} $padding-ratio [2] - ratio by which padding-left and padding-right are bigger
/// @param {boolean} $inline-styles [true] - to return styles for .bubble, .tag and .ec-icon
/// @param {number} $icon-size [$base-font-size] - font-size of inline .ec-icon

@mixin macro-metrics(
  $font-size,
  $line-height,
  $min-height,
  $border: null,
  $padding-ratio: 2,
  $inline-styles: true,
  $icon-size: $base-font-size
) {
  $padding: ($min-height - $line-height) / 2;

  @if $border {
    $padding: ($padding - $border);
  }

  font-size: em($font-size);
  line-height: em($line-height, $font-size);
  min-height: em($min-height, $font-size);
  min-width: em($min-height, $font-size);
  padding: em($padding, $font-size) em(($padding * $padding-ratio), $font-size);

  @if $border {
    border-style: solid;
    border-width: rem($border);
  }

  @content;

  @if $inline-styles {
    .bubble,
    .tag {
      &:first-child {
        margin-left: rem($padding * -1);
        margin-right: rem($padding);
      }

      &:last-child {
        margin-left: rem($padding);
        margin-right: rem($padding * -1);
      }

      &:only-child {
        margin-left: rem($padding * -$padding-ratio);
        margin-right: rem($padding * -$padding-ratio);
      }
    }

    .ec-icon {
      padding-right: rem($padding);

      @supports (display: inline-flex) {
        display: inline-flex;
        align-items: center;
        justify-content: center;
      }

      &::before {
        font-size: em($icon-size, $font-size);
        line-height: inherit;
        vertical-align: top;
      }

      &_right {
        padding-left: rem($padding);
        padding-right: 0;
      }

      &:empty {
        padding-left: 0;
        padding-right: 0;

        &:first-child {
          margin-left: rem($padding * -0.5);
          margin-right: rem($padding);
        }

        &:last-child {
          margin-left: rem($padding);
          margin-right: rem($padding * -0.5);
        }

        &:only-child {
          margin-left: rem($padding * -$padding-ratio);
          margin-right: rem($padding * -$padding-ratio);
        }

        &::before {
          margin-left: 0;
          margin-right: 0;
        }
      }
    }
  }
}
